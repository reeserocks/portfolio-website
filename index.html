<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="favi.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reese Hausman's Portfolio</title>
    <link href="main.css" rel="stylesheet">

    <!--fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Grandstander:ital,wght@0,100..900;1,100..900&family=Neuton:ital,wght@0,200;0,300;0,400;0,700;0,800;1,400&family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap" rel="stylesheet">

    <!--icons-->
    <script src="https://kit.fontawesome.com/cb9d674058.js" crossorigin="anonymous"></script>
</head>

<body>
    <!-- header -->
    <div class="header">
        <div class="headline">
            <h1 id="name">Reese Hausman&nbsp;</h1>
            <h1>| Artist & Game Developer</h1>
            <button style="margin-left: auto" onclick="openCard()">About</button>
        </div>
        <!-- about -->
        <div id="about-card">
            <h2 id="resume"><a href="Hausman, Reese - Resume.pdf">Resume PDF</a></h2>
            <div id="text-container">
                <p>Reese Hausman is a third-year Games + Simulation major at Miami University with a minor in Studio Art. Her passions lie in the intersection of art and technology to create an immersive narrative experience, specifically through the lens of character design. Her greatest strengths are her organizational skills, creative curiosity, and iterative thinking.</p>
            </div>
            <h3>Find me here:</h3>
            <ul>
                <li>
                    <a href="mailto:reesehausmanm@gmail.com" target="_blank"><i class="fa-regular fa-envelope"></i> Mail</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/reese-hausman" target="_blank"><i class="fa-brands fa-square-linkedin"></i> LinkedIn</a>
                </li>
                <li>
                    <a href="https://reeserocks.itch.io/" target="_blank"><i class="fa-brands fa-itch-io"></i> itch.io</a>
                </li>
                <li>
                    <a href="https://sketchfab.com/reeserocks" target="_blank"><img src="https://static.sketchfab.com/img/press/logos/sketchfab-logo-white.png" id="sketchfab"></img> Sketchfab</a>
                </li>
                <li>
                    <a href="https://linktr.ee/reekrockk" target="_blank"><i class="fa-brands fa-linktree"></i> Social Media</a>
                </li>
            </ul>
        </div>
        <!-- button filters -->
        <div id="btn-container">
            <button class="btn active" onclick="filterSelection('all')">All</button>
            <button class="btn" onclick="filterSelection('games')">Games</button>
            <button class="btn" onclick="filterSelection('3d')">3D Art</button>
            <button class="btn" onclick="filterSelection('2d')">2D Art</button>
            <button class="btn" onclick="filterSelection('animation')">Animation</button>
            <button class="btn" onclick="filterSelection('design')">Design</button>
        </div>
    </div>
    <!-- body -->
    <div class="container">
        <div class="content">
            <div id="lightbox" class="lightbox">
                <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
                <img class="lightbox-img" id="lightbox-img">
                <div class="lightbox-caption" id="lightbox-caption"></div>
            </div>
        </div>
    </div>

<script>
// GET IMAGES
    const content = document.querySelector('.content');
    let pages = [];

    const getContent = async () => {
        const url = "https://raw.githubusercontent.com/reeserocks/portfolio-website/refs/heads/main/images.json";
        
        const response = await fetch(url);
        const data = await response.json();
        pages = [...data];

        addPages();
    }

    const addPages = () => {
        const fragment = document.createDocumentFragment();
        const created = [];

        pages.forEach((item, i) => {

            const div = document.createElement("div");
            div.id = `page_${i}`;

            item.class.trim().split(/\s+/).forEach(cls => div.classList.add(cls));
           
            if (item.image) {
                const img = document.createElement("img");
                img.src = item.image;
                img.classList.add("portfolio-img");

                if (item.href) {
                    const imgLink = document.createElement("a");
                    imgLink.href = item.href;
                    imgLink.target = "_blank";
                    imgLink.appendChild(img);
                    div.appendChild(imgLink);
                } else {
                    img.addEventListener("click", () => openLightbox(item.image, item.paragraph));
                    div.appendChild(img);
                }
            }

            if (item.youtube) {
                const videoId = item.youtube.split("/embed/")[1].split("?")[0];
                const separator = item.youtube.includes("?") ? "&" : "?";

                const iframe = document.createElement("iframe");
                iframe.src = `${item.youtube}${separator}autoplay=1&loop=1&controls=0&modestbranding=1&rel=0&iv_load_policy=3&mute=1&playlist=${videoId}`;
                iframe.setAttribute(
                    "allow",
                    "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                );

                div.appendChild(iframe);
            }

            if (item.sketchfab) {
                const iframe = document.createElement("iframe");
                iframe.src = item.sketchfab;
                div.appendChild(iframe);
            }

            const paragraph = document.createElement("p");
            paragraph.innerHTML = item.paragraph;
            paragraph.classList.add("caption");

            paragraph.querySelectorAll("a").forEach(link => {
                link.setAttribute("target", "_blank");
                link.setAttribute("rel", "noopener noreferrer");
            });

            div.appendChild(paragraph);
            
            fragment.appendChild(div);
            created.push(div);
        });

        content.appendChild(fragment);
        
        filterSelection("all");

        requestAnimationFrame(() => {
            created.forEach((d, idx) => {
                setTimeout(() => d.classList.add('loaded'), idx * 30);
            });
        });
    };

    getContent();

// ABOUT CARD FUNCTIONALITY
    function openCard() {
        const aboutCard = document.getElementById('about-card');
        aboutCard.classList.toggle('show');
    }

// FILTER BUTTONS
    function filterSelection(type) {
        var x, i;
        x = document.getElementsByClassName("filterDiv");
        if (type == "all") type = "";
        for (i = 0; i < x.length; i++) {
            removeClass(x[i], "show");
            if (x[i].className.indexOf(type) > -1) addClass(x[i], "show");
        }
    }
    // show filtered elements
    function addClass(element, name) {
        var i, arr1, arr2;
        arr1 = element.className.split(" ");
        arr2 = name.split(" ");
        for (i = 0; i < arr2.length; i++) {
            if (arr1.indexOf(arr2[i]) == -1) {
            element.className += " " + arr2[i];
            }
        }
    }
    // hide other elements
    function removeClass(element, name) {
        var i, arr1, arr2;
        arr1 = element.className.split(" ");
        arr2 = name.split(" ");
        for (i = 0; i < arr2.length; i++) {
            while (arr1.indexOf(arr2[i]) > -1) {
            arr1.splice(arr1.indexOf(arr2[i]), 1);
            }
        }
        element.className = arr1.join(" ");
    }
    // add active class to current filter
    var btnContainer = document.getElementById("btn-container");
    var btns = btnContainer.getElementsByClassName("btn");
    for (var i = 0; i < btns.length; i++) {
        btns[i].addEventListener("click", function() {
            var current = document.getElementsByClassName("active");
            current[0].className = current[0].className.replace(" active", "");
            this.className += " active";
        });
    }

// LIGHTBOX
    function openLightbox(imageSrc, captionHtml) {
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxCaption = document.getElementById('lightbox-caption');

        lightboxImg.src = imageSrc;
        lightboxCaption.innerHTML = captionHtml;
        lightbox.style.display = 'block'; 
    }

    function closeLightbox() {
        document.getElementById('lightbox').style.display = 'none';
    }
</script>
</body>
</html>